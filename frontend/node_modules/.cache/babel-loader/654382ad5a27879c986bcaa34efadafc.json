{"ast":null,"code":"var _jsxFileName = \"D:\\\\famp\\\\Software Process\\\\LearningStrike\\\\frontend\\\\src\\\\components\\\\Login.js\";\nimport React, { Component, useState } from \"react\";\nimport auth from \"./AUTH/auth\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport check from \"./AUTH/check\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      successfulPOST: this.state,\n      message: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.Submit = this.Submit.bind(this);\n  }\n\n  handleChange(event) {\n    if (event.target.name === \"email\") {\n      this.setState({\n        email: event.target.value\n      });\n      window.email = event.target.value;\n    } else {\n      this.setState({\n        password: event.target.value\n      });\n    }\n  } // submit login//\n\n\n  Submit() {\n    if (check.Length(this.state.email, this.state.password)) {\n      fetch(\"http://localhost:8000/login\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: this.state.email,\n          password: this.state.password\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.message === \"Login complete\") {\n          auth.login();\n          this.setState({\n            message: data.message\n          });\n        } else {\n          this.setState({\n            message: data.message\n          });\n        }\n      });\n    } else {\n      this.setState({\n        message: \"Email and Password incorrect\"\n      });\n    }\n  }\n\n  render() {\n    console.log(auth.isAuthenticated());\n\n    if (auth.isAuthenticated()) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        push: true,\n        to: \"/home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 46\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"headtext\",\n              children: \"LOGIN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"exampleInputEmail1\",\n                    className: \"form-label\",\n                    children: \"Email address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"email\",\n                    className: \"form-control\",\n                    id: \"InputEmail1\",\n                    \"aria-describedby\": \"emailHelp\",\n                    onChange: this.handleChange,\n                    placeholder: \"e-mail\",\n                    name: \"email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"exampleInputPassword1\",\n                    className: \"form-label\",\n                    children: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    className: \"form-control\",\n                    id: \"InputPassword\",\n                    placeholder: \"Password\",\n                    name: \"password\",\n                    onChange: this.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: this.state.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btn\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  className: \"btn btn-primary me-md-2\",\n                  type: \"submit\",\n                  style: {\n                    marginRight: \"40px\"\n                  },\n                  onClick: this.Submit,\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"btn btn-primary\",\n                  to: \"/register\",\n                  role: \"button\",\n                  children: \"Sign Up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["D:/famp/Software Process/LearningStrike/frontend/src/components/Login.js"],"names":["React","Component","useState","auth","Redirect","Link","check","Login","constructor","props","state","email","password","successfulPOST","message","handleChange","bind","Submit","event","target","name","setState","value","window","Length","fetch","method","headers","Accept","body","JSON","stringify","then","res","json","data","login","render","console","log","isAuthenticated","marginRight"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport auth from \"./AUTH/auth\";\nimport { Redirect,Link } from \"react-router-dom\";\nimport check from \"./AUTH/check\"\n\nexport default class Login extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      successfulPOST: this.state,\n      message: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.Submit = this.Submit.bind(this);\n\n  }\n\n  handleChange(event) {\n    if (event.target.name === \"email\") {\n      this.setState({ email: event.target.value });\n      window.email = event.target.value;\n    } else {\n      this.setState({ password: event.target.value });\n    }\n  }\n\n  // submit login//\n  Submit() {\n    if (check.Length(this.state.email, this.state.password)) {\n      fetch(\"http://localhost:8000/login\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email: this.state.email,\n        password: this.state.password,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {if (data.message === \"Login complete\") {\n        auth.login()\n        this.setState({ message: data.message });\n        } else {\n          this.setState({ message: data.message });\n        }\n      });}\n      else{\n        this.setState({ message: \"Email and Password incorrect\" });\n      }\n    \n  }\n\n  render() {\n    console.log(auth.isAuthenticated());\n\n        if (auth.isAuthenticated()){return ( <Redirect push to=\"/home\" />)\n        }\n        else{  \n          return(\n            <div className=\"card\">\n          <div>\n            <div className=\"card\">\n              <h1 className=\"headtext\">LOGIN</h1>\n              <div className=\"card-body\">\n                <form>\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\n                      Email address\n                    </label>\n                    <input\n                      type=\"email\"\n                      className=\"form-control\"\n                      id=\"InputEmail1\"\n                      aria-describedby=\"emailHelp\"\n                      onChange={this.handleChange}\n                      placeholder=\"e-mail\"\n                      name=\"email\"\n                    />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label\n                      htmlFor=\"exampleInputPassword1\"\n                      className=\"form-label\"\n                    >\n                      Password\n                    </label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      id=\"InputPassword\"\n                      placeholder=\"Password\"\n                      name=\"password\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  <h5>{this.state.message}</h5>\n                </form>\n                <div className=\"btn\">\n                  <Link\n                    className=\"btn btn-primary me-md-2\"\n                    type=\"submit\"\n                    style={{ marginRight: \"40px\" }}\n                    onClick={this.Submit}\n                  >\n                    Login\n                  </Link>\n                  <Link className=\"btn btn-primary\" to=\"/register\" role=\"button\">Sign Up</Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n          )\n        }    \n  }\n}\n"]},"metadata":{},"sourceType":"module"}